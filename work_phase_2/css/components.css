/* INTERACTIVE HIGHLIGHTING - Combined & Cleaned */

/* Base Highlight Style (Combined) */
.interactive-highlight,
.interactive-highlight-stories {
    position: relative;
    background-color: rgba(255, 215, 0, 0.3);
    cursor: pointer;
    padding: 2px 5px;
    border-radius: 5px;
    transition: background 0.3s ease;
    /* Ensure focusability for non-native interactive elements if needed */
    /* If using on non-interactive elements like <span>, add tabindex="0" in HTML */
    outline: none; /* Optional: remove default focus outline if custom style is sufficient */
}

/* Tooltip Styling for ORIGINAL Highlighted Text */
.interactive-highlight::after {
    content: attr(data-card); /* Uses data-card */
    position: absolute;
    top: -5px;
    right: -15px;
    background: var(
        --accent-color
    ); /* Assuming --accent-color is defined elsewhere */
    color: white;
    font-size: 1.1rem;
    font-weight: bold;
    width: 120px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 10%;
    opacity: 0;
    pointer-events: none; /* Prevent tooltip from interfering */
    transition: opacity 0.3s ease;
    z-index: 10;
}

/* Tooltip Styling for USER STORIES Highlighted Text (Final Version) */
.interactive-highlight-stories::after {
    content: attr(data-userstory); /* Uses data-userstory */
    position: absolute;
    top: -10px;
    left: 0; /* Position near the start of the highlighted text */
    background: var(
        --secondary-color,
        #3498db
    ); /* Use secondary color variable or default blue */
    color: white;
    font-size: 1.1rem;
    font-weight: normal; /* Normal weight for potentially long text */
    width: 300px;
    height: auto; /* Auto height for variable content length */
    padding: var(--space-2); /* Consistent padding (e.g., 0.5rem) */
    text-align: left; /* Align text to left for readability */
    border-radius: 5px;
    opacity: 0;
    pointer-events: none; /* Prevent tooltip from interfering */
    transition: opacity 0.3s ease;
    z-index: 10; /* Ensure tooltip is above other elements */
    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3); /* Optional: Shadow for separation */
}

/* Show Tooltip on Hover (Desktop - Combined) */
@media (hover: hover) {
    .interactive-highlight:hover::after,
    .interactive-highlight-stories:hover::after {
        opacity: 1;
    }
}

/* Show Tooltip on Tap/Focus (Mobile / Keyboard - Combined & Added for stories) */
.interactive-highlight:focus::after,
.interactive-highlight:active::after,
.interactive-highlight-stories:focus::after,
.interactive-highlight-stories:active::after {
    opacity: 1;
}

/* USER STORY BOX CONTAINER */ /* Renamed from VALUE BOX */
.user-story-box {
    padding: 15px;
    margin-bottom: 20px;
    border: 1px solid var(--text-color); /* Assuming --text-color is defined */
    /* border-radius: 5px; */ /* Optional */
}

/* Flip Cards - Client Needs analysis */

/* Mobile-First Grid (Default: 1 Column) */
.flip-card-container {
    display: grid;
    grid-template-columns: 1fr;
    gap: 20px;
    padding: 20px 0;
}

/* 3 columns on larger screens */
@media (min-width: 768px) {
    .flip-card-container {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* Flip Card Base Styles */
.flip-card {
    width: 100%;
    height: 300px;
    perspective: 1000px;
    cursor: pointer;
    outline: none; /* Ensure focusability without default outline if custom styles are clear */
}

/* Flip Card Inner - the rotating part of the card */
.flip-card-inner {
    width: 100%;
    height: 100%;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.5s ease-in-out !important; /* Added !important just in case, review if needed */
}

/* Front & Back Common Styles */
.flip-card-front,
.flip-card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    -webkit-backface-visibility: hidden; /* Safari */
    backface-visibility: hidden;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    border-radius: 10px;
    padding: 10px;
    font-size: 1rem;
    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
}

/* Set the colour for the front */
.flip-card-front {
    background: var(--primary-color); /* Assuming --primary-color is defined */
    color: white;
}

/* Set the colour for the back */
.flip-card-back {
    background: var(
        --secondary-color
    ); /* Assuming --secondary-color is defined */
    color: white;
    transform: rotateY(180deg);
}

/* Flip Animation (Desktop Hover) */
@media (hover: hover) {
    .flip-card:hover .flip-card-inner {
        transform: rotateY(180deg);
    }
}

/* Mobile-Friendly Flip (Focus & Tap) */
/* Added :focus-visible for better keyboard accessibility */
.flip-card:focus-visible .flip-card-inner,
.flip-card:active .flip-card-inner {
    transform: rotateY(180deg);
}

/* NAVBAR */
.navbar {
    background-color: var(--primary-color);
    padding: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: relative;
}

/* MENU (Mobile First) */
.menu {
    list-style: none;
    padding: 0; /* Reset default padding */
    margin: 0; /* Reset default margin */
    display: none;
    flex-direction: column;
    background-color: var(--primary-color);
    width: 100%;
    text-align: center;
    position: absolute;
    top: 100%; /* Position below the navbar relative to navbar height */
    left: 0;
    z-index: 10;
}
.menu li {
    padding: 0; /* Let padding be on the anchor */
}
.menu a {
    color: white;
    text-decoration: none;
    display: block;
    padding: 15px 10px; /* Increased padding for easier tapping */
}
/* Add a hover/focus style for better feedback */
.menu a:hover,
.menu a:focus {
    background-color: rgba(255, 255, 255, 0.2);
}

/* MENU TOGGLE BUTTON */
.menu-toggle {
    background: none;
    border: none;
    color: white;
    font-size: 24px;
    cursor: pointer;
    display: block;
    padding: 5px; /* Add some padding for easier interaction */
}

/* SHOW MENU WHEN TOGGLED (requires JS) */
.menu.show {
    display: flex;
}

/* DESKTOP VIEW */
@media (min-width: 768px) {
    .menu {
        display: flex;
        position: static;
        flex-direction: row;
        width: auto;
        background-color: transparent;
    }
    .menu-toggle {
        display: none;
    }
    .menu li {
        padding: 0;
    }
    .menu a {
        padding: 10px 15px; /* Adjust padding for desktop view */
    }
    /* Adjust hover/focus for desktop */
    .menu a:hover,
    .menu a:focus {
        background-color: transparent; /* Or a subtle effect */
        text-decoration: underline; /* Example effect */
    }
}

/* === Interview Transcript Styles === */
.interview {
    border: 1px solid #ddd;
    border-radius: 8px;
    padding: var(--space-4); /* Assuming --space-4 is defined (e.g., 1.5rem) */
    margin-bottom: var(--space-4); /* Add margin between interviews */
}
.user-name {
    font-size: 1.4rem;
    font-weight: bold;
    color: var(--primary-color, #2c3e50);
    margin-bottom: var(--space-2); /* Add space below name */
}
.initial-prompt {
    font-style: italic;
    color: var(--text-color, #555);
    background-color: #f0f0f0;
    padding: var(--space-3); /* Assuming --space-3 is defined (e.g., 1rem) */
    border-radius: 4px;
    margin-bottom: var(--space-3); /* Add space below prompt */
}
.question {
    font-weight: bold;
    color: var(--secondary-color, #3498db);
    margin-top: var(--space-3);
    margin-bottom: var(--space-2); /* Add space below question */
}
/* Remove top margin only if it's the VERY first element inside .interview */
.interview > *:first-child {
    margin-top: 0;
}
.response {
    line-height: 1.7;
    color: var(--text-color, #333);
    font-style: italic;
    border-left: 3px solid var(--secondary-color, #3498db);
    background-color: color-mix(
        in srgb,
        var(--secondary-color, #3498db) 10%,
        transparent
    );
    padding: var(--space-2) var(--space-3); /* Add padding top/bottom too */
    margin-bottom: var(--space-3); /* Add space below response block */
}

/* Base list styles within response */
.response ul,
.response ol {
    list-style-position: outside;
    margin-top: var(--space-2); /* Add space before list */
    margin-bottom: var(--space-2); /* Add space after list */
    margin-left: var(--space-3); /* Keep adjusted left margin */
    padding-left: 0;
    font-style: normal; /* Lists probably shouldn't be italic */
}
.response ol {
    list-style-type: decimal;
}
.response ul {
    list-style-type: none; /* Remove default bullets */
}

/* Emoji marker for ul list items */
.response ul li {
    position: relative; /* Needed for absolute positioning of pseudo-element */
    padding-left: 1.8em; /* Space for the emoji marker */
    margin-bottom: var(--space-1); /* Space between list items */
}
.response ul li::before {
    /* Use ::before for better positioning control */
    content: "➡️ ";
    font-size: 1.0em;
    position: absolute;
    left: 0;
    top: 0; /* Adjust vertical alignment if needed */
}

/* === End of Interview Transcript Styles === */
